"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/makeTransaction";
exports.ids = ["pages/api/makeTransaction"];
exports.modules = {

/***/ "@solana/web3.js":
/*!**********************************!*\
  !*** external "@solana/web3.js" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("@solana/web3.js");

/***/ }),

/***/ "bignumber.js":
/*!*******************************!*\
  !*** external "bignumber.js" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("bignumber.js");

/***/ }),

/***/ "@solana/wallet-adapter-base":
/*!**********************************************!*\
  !*** external "@solana/wallet-adapter-base" ***!
  \**********************************************/
/***/ ((module) => {

module.exports = import("@solana/wallet-adapter-base");;

/***/ }),

/***/ "(api)/./lib/addresses.ts":
/*!**************************!*\
  !*** ./lib/addresses.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"shopAddress\": () => (/* binding */ shopAddress)\n/* harmony export */ });\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/web3.js */ \"@solana/web3.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_solana_web3_js__WEBPACK_IMPORTED_MODULE_0__);\n\n// Your shop wallet address\nconst shopAddress = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey('4Q6XTFkpZy5icJsWP7kmoud23dYa3eW7o6ofBScxFhKD');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvYWRkcmVzc2VzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUUzQyxFQUEyQjtBQUNwQixLQUFLLENBQUNDLFdBQVcsR0FBRyxHQUFHLENBQUNELHNEQUFTLENBQUMsQ0FBOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvYWRkcmVzc2VzLnRzPzllNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHVibGljS2V5IH0gZnJvbSBcIkBzb2xhbmEvd2ViMy5qc1wiXG5cbi8vIFlvdXIgc2hvcCB3YWxsZXQgYWRkcmVzc1xuZXhwb3J0IGNvbnN0IHNob3BBZGRyZXNzID0gbmV3IFB1YmxpY0tleSgnNFE2WFRGa3BaeTVpY0pzV1A3a21vdWQyM2RZYTNlVzdvNm9mQlNjeEZoS0QnKSAiXSwibmFtZXMiOlsiUHVibGljS2V5Iiwic2hvcEFkZHJlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/addresses.ts\n");

/***/ }),

/***/ "(api)/./lib/calculatePrice.ts":
/*!*******************************!*\
  !*** ./lib/calculatePrice.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ calculatePrice)\n/* harmony export */ });\n/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bignumber.js */ \"bignumber.js\");\n/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _products__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./products */ \"(api)/./lib/products.ts\");\n\n\nfunction calculatePrice(query) {\n    let amount = new (bignumber_js__WEBPACK_IMPORTED_MODULE_0___default())(0);\n    for (let [id, quantity] of Object.entries(query)){\n        const product = _products__WEBPACK_IMPORTED_MODULE_1__.products.find((p)=>p.id === id\n        );\n        if (!product) continue;\n        const price = product.priceSol;\n        const productQuantity = new (bignumber_js__WEBPACK_IMPORTED_MODULE_0___default())(quantity);\n        amount = amount.plus(productQuantity.multipliedBy(price));\n    }\n    return amount;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvY2FsY3VsYXRlUHJpY2UudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvQztBQUVDO0FBRXRCLFFBQVEsQ0FBQ0UsY0FBYyxDQUFDQyxLQUFxQixFQUFhLENBQUM7SUFDeEUsR0FBRyxDQUFDQyxNQUFNLEdBQUcsR0FBRyxDQUFDSixxREFBUyxDQUFDLENBQUM7SUFDNUIsR0FBRyxFQUFFLEdBQUcsRUFBRUssRUFBRSxFQUFFQyxRQUFRLEtBQUtDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDTCxLQUFLLEVBQUcsQ0FBQztRQUNqRCxLQUFLLENBQUNNLE9BQU8sR0FBR1Isb0RBQWEsRUFBQ1UsQ0FBQyxHQUFJQSxDQUFDLENBQUNOLEVBQUUsS0FBS0EsRUFBRTs7UUFDOUMsRUFBRSxHQUFHSSxPQUFPLEVBQUUsUUFBUTtRQUV0QixLQUFLLENBQUNHLEtBQUssR0FBR0gsT0FBTyxDQUFDSSxRQUFRO1FBQzlCLEtBQUssQ0FBQ0MsZUFBZSxHQUFHLEdBQUcsQ0FBQ2QscURBQVMsQ0FBQ00sUUFBUTtRQUM5Q0YsTUFBTSxHQUFHQSxNQUFNLENBQUNXLElBQUksQ0FBQ0QsZUFBZSxDQUFDRSxZQUFZLENBQUNKLEtBQUs7SUFDekQsQ0FBQztJQUVELE1BQU0sQ0FBQ1IsTUFBTTtBQUNmLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY2FsY3VsYXRlUHJpY2UudHM/ZWJjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmlnTnVtYmVyIGZyb20gXCJiaWdudW1iZXIuanNcIjtcbmltcG9ydCB7IFBhcnNlZFVybFF1ZXJ5IH0gZnJvbSBcInF1ZXJ5c3RyaW5nXCI7XG5pbXBvcnQgeyBwcm9kdWN0cyB9IGZyb20gXCIuL3Byb2R1Y3RzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNhbGN1bGF0ZVByaWNlKHF1ZXJ5OiBQYXJzZWRVcmxRdWVyeSk6IEJpZ051bWJlciB7XG4gIGxldCBhbW91bnQgPSBuZXcgQmlnTnVtYmVyKDApO1xuICBmb3IgKGxldCBbaWQsIHF1YW50aXR5XSBvZiBPYmplY3QuZW50cmllcyhxdWVyeSkpIHtcbiAgICBjb25zdCBwcm9kdWN0ID0gcHJvZHVjdHMuZmluZChwID0+IHAuaWQgPT09IGlkKVxuICAgIGlmICghcHJvZHVjdCkgY29udGludWU7XG5cbiAgICBjb25zdCBwcmljZSA9IHByb2R1Y3QucHJpY2VTb2xcbiAgICBjb25zdCBwcm9kdWN0UXVhbnRpdHkgPSBuZXcgQmlnTnVtYmVyKHF1YW50aXR5IGFzIHN0cmluZylcbiAgICBhbW91bnQgPSBhbW91bnQucGx1cyhwcm9kdWN0UXVhbnRpdHkubXVsdGlwbGllZEJ5KHByaWNlKSlcbiAgfVxuXG4gIHJldHVybiBhbW91bnRcbn1cbiJdLCJuYW1lcyI6WyJCaWdOdW1iZXIiLCJwcm9kdWN0cyIsImNhbGN1bGF0ZVByaWNlIiwicXVlcnkiLCJhbW91bnQiLCJpZCIsInF1YW50aXR5IiwiT2JqZWN0IiwiZW50cmllcyIsInByb2R1Y3QiLCJmaW5kIiwicCIsInByaWNlIiwicHJpY2VTb2wiLCJwcm9kdWN0UXVhbnRpdHkiLCJwbHVzIiwibXVsdGlwbGllZEJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/calculatePrice.ts\n");

/***/ }),

/***/ "(api)/./lib/products.ts":
/*!*************************!*\
  !*** ./lib/products.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"products\": () => (/* binding */ products)\n/* harmony export */ });\nconst products = [\n    {\n        id: 'box-of-cookies',\n        name: 'Box',\n        description: 'A delicious box of handmade cookies',\n        unitName: 'box',\n        priceSol: 0.05,\n        priceUsd: 5\n    },\n    {\n        id: 'basket-of-cookies',\n        name: 'Basket',\n        description: 'A large basket of handmade cookies',\n        unitName: 'basket',\n        priceSol: 0.1,\n        priceUsd: 10\n    }\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJvZHVjdHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLEtBQUssQ0FBQ0EsUUFBUSxHQUFHLENBQUM7SUFDdkIsQ0FBQztRQUNDQyxFQUFFLEVBQUUsQ0FBZ0I7UUFDcEJDLElBQUksRUFBRSxDQUFLO1FBQ1hDLFdBQVcsRUFBRSxDQUFxQztRQUNsREMsUUFBUSxFQUFFLENBQUs7UUFDZkMsUUFBUSxFQUFFLElBQUk7UUFDZEMsUUFBUSxFQUFFLENBQUM7SUFDYixDQUFDO0lBQ0QsQ0FBQztRQUNDTCxFQUFFLEVBQUUsQ0FBbUI7UUFDdkJDLElBQUksRUFBRSxDQUFRO1FBQ2RDLFdBQVcsRUFBRSxDQUFvQztRQUNqREMsUUFBUSxFQUFFLENBQVE7UUFDbEJDLFFBQVEsRUFBRSxHQUFHO1FBQ2JDLFFBQVEsRUFBRSxFQUFFO0lBQ2QsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvcHJvZHVjdHMudHM/MWFkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcHJvZHVjdHMgPSBbXG4gIHtcbiAgICBpZDogJ2JveC1vZi1jb29raWVzJyxcbiAgICBuYW1lOiAnQm94JyxcbiAgICBkZXNjcmlwdGlvbjogJ0EgZGVsaWNpb3VzIGJveCBvZiBoYW5kbWFkZSBjb29raWVzJyxcbiAgICB1bml0TmFtZTogJ2JveCcsIC8vIHNob3dzIGFmdGVyIHRoZSBwcmljZSwgZWcuIDAuMDUgU09ML2JveFxuICAgIHByaWNlU29sOiAwLjA1LFxuICAgIHByaWNlVXNkOiA1LFxuICB9LFxuICB7XG4gICAgaWQ6ICdiYXNrZXQtb2YtY29va2llcycsXG4gICAgbmFtZTogJ0Jhc2tldCcsXG4gICAgZGVzY3JpcHRpb246ICdBIGxhcmdlIGJhc2tldCBvZiBoYW5kbWFkZSBjb29raWVzJyxcbiAgICB1bml0TmFtZTogJ2Jhc2tldCcsXG4gICAgcHJpY2VTb2w6IDAuMSxcbiAgICBwcmljZVVzZDogMTAsXG4gIH1cbl1cbiJdLCJuYW1lcyI6WyJwcm9kdWN0cyIsImlkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwidW5pdE5hbWUiLCJwcmljZVNvbCIsInByaWNlVXNkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/products.ts\n");

/***/ }),

/***/ "(api)/./pages/api/makeTransaction.ts":
/*!**************************************!*\
  !*** ./pages/api/makeTransaction.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/wallet-adapter-base */ \"@solana/wallet-adapter-base\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/web3.js */ \"@solana/web3.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_solana_web3_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_addresses__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/addresses */ \"(api)/./lib/addresses.ts\");\n/* harmony import */ var _lib_calculatePrice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/calculatePrice */ \"(api)/./lib/calculatePrice.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__]);\n_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nasync function handler(req, res) {\n    try {\n        // We pass the selected items in the query, calculate the expected cost\n        const amount = (0,_lib_calculatePrice__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(req.query);\n        if (amount.toNumber() === 0) {\n            res.status(400).json({\n                error: \"Can't checkout with charge of 0\"\n            });\n            return;\n        }\n        // We pass the reference to use in the query\n        const { reference  } = req.query;\n        if (!reference) {\n            res.status(400).json({\n                error: \"No reference provided\"\n            });\n            return;\n        }\n        // We pass the buyer's public key in JSON body\n        const { account  } = req.body;\n        if (!account) {\n            res.status(400).json({\n                error: \"No account provided\"\n            });\n            return;\n        }\n        const buyerPublicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(account);\n        const shopPublicKey = _lib_addresses__WEBPACK_IMPORTED_MODULE_2__.shopAddress;\n        const network = _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.WalletAdapterNetwork.Devnet;\n        const endpoint = (0,_solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.clusterApiUrl)(network);\n        const connection = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Connection(endpoint);\n        // Get a recent blockhash to include in the transaction\n        const { blockhash  } = await connection.getLatestBlockhash('finalized');\n        const transaction = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Transaction({\n            recentBlockhash: blockhash,\n            // The buyer pays the transaction fee\n            feePayer: buyerPublicKey\n        });\n        // Create the instruction to send SOL from the buyer to the shop\n        const transferInstruction = _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.SystemProgram.transfer({\n            fromPubkey: buyerPublicKey,\n            lamports: amount.multipliedBy(_solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.LAMPORTS_PER_SOL).toNumber(),\n            toPubkey: shopPublicKey\n        });\n        // Add the reference to the instruction as a key\n        // This will mean this transaction is returned when we query for the reference\n        transferInstruction.keys.push({\n            pubkey: new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(reference),\n            isSigner: false,\n            isWritable: false\n        });\n        // Add the instruction to the transaction\n        transaction.add(transferInstruction);\n        // Serialize the transaction and convert to base64 to return it\n        const serializedTransaction = transaction.serialize({\n            // We will need the buyer to sign this transaction after it's returned to them\n            requireAllSignatures: false\n        });\n        const base64 = serializedTransaction.toString('base64');\n        // Insert into database: reference, amount\n        // Return the serialized transaction\n        res.status(200).json({\n            transaction: base64,\n            message: \"Thanks for your order! ðŸª\"\n        });\n    } catch (err) {\n        console.error(err);\n        res.status(500).json({\n            error: 'error creating transaction'\n        });\n        return;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUM7UUFDRCxLQUFLLENBQUNDLE1BQU0sR0FBR0gscUJBQXFCLENBQUNJLFFBQVEsQ0FBQyxDQUFRO1FBRXRELEVBQTBDO1FBRTFDLEVBQW9DO1FBQ3BDckMsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUMsQ0FBQztZQUNwQmEsV0FBVyxFQUFFa0IsTUFBTTtZQUNuQkUsT0FBTyxFQUFFLENBQTBCO1FBQ3JDLENBQUM7SUFDSCxDQUFDLENBQUMsS0FBSyxFQUFFQyxHQUFHLEVBQUUsQ0FBQztRQUNiQyxPQUFPLENBQUNsQyxLQUFLLENBQUNpQyxHQUFHO1FBRWpCdkMsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUMsQ0FBQztZQUFDQyxLQUFLLEVBQUUsQ0FBNEI7UUFBRSxDQUFDO1FBQzdELE1BQU07SUFDUixDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BhZ2VzL2FwaS9tYWtlVHJhbnNhY3Rpb24udHM/NTdhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXYWxsZXRBZGFwdGVyTmV0d29yayB9IGZyb20gXCJAc29sYW5hL3dhbGxldC1hZGFwdGVyLWJhc2VcIlxuaW1wb3J0IHsgY2x1c3RlckFwaVVybCwgQ29ubmVjdGlvbiwgUHVibGljS2V5LCBUcmFuc2FjdGlvbiwgU3lzdGVtUHJvZ3JhbSwgTEFNUE9SVFNfUEVSX1NPTCB9IGZyb20gXCJAc29sYW5hL3dlYjMuanNcIlxuaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCJcbmltcG9ydCB7IHNob3BBZGRyZXNzIH0gZnJvbSBcIi4uLy4uL2xpYi9hZGRyZXNzZXNcIlxuaW1wb3J0IGNhbGN1bGF0ZVByaWNlIGZyb20gXCIuLi8uLi9saWIvY2FsY3VsYXRlUHJpY2VcIlxuXG5leHBvcnQgdHlwZSBNYWtlVHJhbnNhY3Rpb25JbnB1dERhdGEgPSB7XG4gIGFjY291bnQ6IHN0cmluZyxcbn1cblxuZXhwb3J0IHR5cGUgTWFrZVRyYW5zYWN0aW9uT3V0cHV0RGF0YSA9IHtcbiAgdHJhbnNhY3Rpb246IHN0cmluZyxcbiAgbWVzc2FnZTogc3RyaW5nLFxufVxuXG50eXBlIEVycm9yT3V0cHV0ID0ge1xuICBlcnJvcjogc3RyaW5nXG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlPE1ha2VUcmFuc2FjdGlvbk91dHB1dERhdGEgfCBFcnJvck91dHB1dD5cbikge1xuICB0cnkge1xuICAgIC8vIFdlIHBhc3MgdGhlIHNlbGVjdGVkIGl0ZW1zIGluIHRoZSBxdWVyeSwgY2FsY3VsYXRlIHRoZSBleHBlY3RlZCBjb3N0XG4gICAgY29uc3QgYW1vdW50ID0gY2FsY3VsYXRlUHJpY2UocmVxLnF1ZXJ5KVxuICAgIGlmIChhbW91bnQudG9OdW1iZXIoKSA9PT0gMCkge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJDYW4ndCBjaGVja291dCB3aXRoIGNoYXJnZSBvZiAwXCIgfSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIFdlIHBhc3MgdGhlIHJlZmVyZW5jZSB0byB1c2UgaW4gdGhlIHF1ZXJ5XG4gICAgY29uc3QgeyByZWZlcmVuY2UgfSA9IHJlcS5xdWVyeVxuICAgIGlmICghcmVmZXJlbmNlKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBcIk5vIHJlZmVyZW5jZSBwcm92aWRlZFwiIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBXZSBwYXNzIHRoZSBidXllcidzIHB1YmxpYyBrZXkgaW4gSlNPTiBib2R5XG4gICAgY29uc3QgeyBhY2NvdW50IH0gPSByZXEuYm9keSBhcyBNYWtlVHJhbnNhY3Rpb25JbnB1dERhdGFcbiAgICBpZiAoIWFjY291bnQpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiTm8gYWNjb3VudCBwcm92aWRlZFwiIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgYnV5ZXJQdWJsaWNLZXkgPSBuZXcgUHVibGljS2V5KGFjY291bnQpXG4gICAgY29uc3Qgc2hvcFB1YmxpY0tleSA9IHNob3BBZGRyZXNzXG5cbiAgICBjb25zdCBuZXR3b3JrID0gV2FsbGV0QWRhcHRlck5ldHdvcmsuRGV2bmV0XG4gICAgY29uc3QgZW5kcG9pbnQgPSBjbHVzdGVyQXBpVXJsKG5ldHdvcmspXG4gICAgY29uc3QgY29ubmVjdGlvbiA9IG5ldyBDb25uZWN0aW9uKGVuZHBvaW50KVxuXG4gICAgLy8gR2V0IGEgcmVjZW50IGJsb2NraGFzaCB0byBpbmNsdWRlIGluIHRoZSB0cmFuc2FjdGlvblxuICAgIGNvbnN0IHsgYmxvY2toYXNoIH0gPSBhd2FpdCAoY29ubmVjdGlvbi5nZXRMYXRlc3RCbG9ja2hhc2goJ2ZpbmFsaXplZCcpKVxuXG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oe1xuICAgICAgcmVjZW50QmxvY2toYXNoOiBibG9ja2hhc2gsXG4gICAgICAvLyBUaGUgYnV5ZXIgcGF5cyB0aGUgdHJhbnNhY3Rpb24gZmVlXG4gICAgICBmZWVQYXllcjogYnV5ZXJQdWJsaWNLZXksXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSB0aGUgaW5zdHJ1Y3Rpb24gdG8gc2VuZCBTT0wgZnJvbSB0aGUgYnV5ZXIgdG8gdGhlIHNob3BcbiAgICBjb25zdCB0cmFuc2Zlckluc3RydWN0aW9uID0gU3lzdGVtUHJvZ3JhbS50cmFuc2Zlcih7XG4gICAgICBmcm9tUHVia2V5OiBidXllclB1YmxpY0tleSxcbiAgICAgIGxhbXBvcnRzOiBhbW91bnQubXVsdGlwbGllZEJ5KExBTVBPUlRTX1BFUl9TT0wpLnRvTnVtYmVyKCksXG4gICAgICB0b1B1YmtleTogc2hvcFB1YmxpY0tleSxcbiAgICB9KVxuXG4gICAgLy8gQWRkIHRoZSByZWZlcmVuY2UgdG8gdGhlIGluc3RydWN0aW9uIGFzIGEga2V5XG4gICAgLy8gVGhpcyB3aWxsIG1lYW4gdGhpcyB0cmFuc2FjdGlvbiBpcyByZXR1cm5lZCB3aGVuIHdlIHF1ZXJ5IGZvciB0aGUgcmVmZXJlbmNlXG4gICAgdHJhbnNmZXJJbnN0cnVjdGlvbi5rZXlzLnB1c2goe1xuICAgICAgcHVia2V5OiBuZXcgUHVibGljS2V5KHJlZmVyZW5jZSksXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiBmYWxzZSxcbiAgICB9KVxuXG4gICAgLy8gQWRkIHRoZSBpbnN0cnVjdGlvbiB0byB0aGUgdHJhbnNhY3Rpb25cbiAgICB0cmFuc2FjdGlvbi5hZGQodHJhbnNmZXJJbnN0cnVjdGlvbilcblxuICAgIC8vIFNlcmlhbGl6ZSB0aGUgdHJhbnNhY3Rpb24gYW5kIGNvbnZlcnQgdG8gYmFzZTY0IHRvIHJldHVybiBpdFxuICAgIGNvbnN0IHNlcmlhbGl6ZWRUcmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9uLnNlcmlhbGl6ZSh7XG4gICAgICAvLyBXZSB3aWxsIG5lZWQgdGhlIGJ1eWVyIHRvIHNpZ24gdGhpcyB0cmFuc2FjdGlvbiBhZnRlciBpdCdzIHJldHVybmVkIHRvIHRoZW1cbiAgICAgIHJlcXVpcmVBbGxTaWduYXR1cmVzOiBmYWxzZVxuICAgIH0pXG4gICAgY29uc3QgYmFzZTY0ID0gc2VyaWFsaXplZFRyYW5zYWN0aW9uLnRvU3RyaW5nKCdiYXNlNjQnKVxuXG4gICAgLy8gSW5zZXJ0IGludG8gZGF0YWJhc2U6IHJlZmVyZW5jZSwgYW1vdW50XG5cbiAgICAvLyBSZXR1cm4gdGhlIHNlcmlhbGl6ZWQgdHJhbnNhY3Rpb25cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICB0cmFuc2FjdGlvbjogYmFzZTY0LFxuICAgICAgbWVzc2FnZTogXCJUaGFua3MgZm9yIHlvdXIgb3JkZXIhIPCfjapcIixcbiAgICB9KVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG5cbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnZXJyb3IgY3JlYXRpbmcgdHJhbnNhY3Rpb24nLCB9KVxuICAgIHJldHVyblxuICB9XG59Il0sIm5hbWVzIjpbIldhbGxldEFkYXB0ZXJOZXR3b3JrIiwiY2x1c3RlckFwaVVybCIsIkNvbm5lY3Rpb24iLCJQdWJsaWNLZXkiLCJUcmFuc2FjdGlvbiIsIlN5c3RlbVByb2dyYW0iLCJMQU1QT1JUU19QRVJfU09MIiwic2hvcEFkZHJlc3MiLCJjYWxjdWxhdGVQcmljZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJhbW91bnQiLCJxdWVyeSIsInRvTnVtYmVyIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwicmVmZXJlbmNlIiwiYWNjb3VudCIsImJvZHkiLCJidXllclB1YmxpY0tleSIsInNob3BQdWJsaWNLZXkiLCJuZXR3b3JrIiwiRGV2bmV0IiwiZW5kcG9pbnQiLCJjb25uZWN0aW9uIiwiYmxvY2toYXNoIiwiZ2V0TGF0ZXN0QmxvY2toYXNoIiwidHJhbnNhY3Rpb24iLCJyZWNlbnRCbG9ja2hhc2giLCJmZWVQYXllciIsInRyYW5zZmVySW5zdHJ1Y3Rpb24iLCJ0cmFuc2ZlciIsImZyb21QdWJrZXkiLCJsYW1wb3J0cyIsIm11bHRpcGxpZWRCeSIsInRvUHVia2V5Iiwia2V5cyIsInB1c2giLCJwdWJrZXkiLCJpc1NpZ25lciIsImlzV3JpdGFibGUiLCJhZGQiLCJzZXJpYWxpemVkVHJhbnNhY3Rpb24iLCJzZXJpYWxpemUiLCJyZXF1aXJlQWxsU2lnbmF0dXJlcyIsImJhc2U2NCIsInRvU3RyaW5nIiwibWVzc2FnZSIsImVyciIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/makeTransaction.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/makeTransaction.ts"));
module.exports = __webpack_exports__;

})();